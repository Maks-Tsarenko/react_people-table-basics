{"version":3,"sources":["api.ts","components/Navigation.tsx","components/Loader/Loader.tsx","utils/findParents.tsx","components/PeopleList.tsx","pages/PeoplePage.tsx","pages/HomePage.tsx","pages/PageNotFound.tsx","App.tsx","index.tsx"],"names":["getPeople","delay","Promise","resolve","setTimeout","then","fetch","response","json","Navigation","_jsx","className","role","children","_jsxs","NavLink","_ref","isActive","classNames","to","_ref2","Loader","findParent","people","parentName","parent","find","person","name","Link","sex","concat","slug","PeopleList","_ref$selectedPerson","selectedPerson","map","born","died","motherName","fatherName","PeoplePage","isLoading","isError","_useParams$personSlug","useParams","personSlug","length","HomePage","PageNotFound","App","_useState","useState","_useState2","_slicedToArray","setPeople","_useState3","_useState4","setIsError","_useState5","_useState6","setIsLoading","getPeopleData","_asyncToGenerator","_regeneratorRuntime","mark","_callee","newPersonList","wrap","_context","prev","next","sent","t0","finish","stop","apply","arguments","useEffect","Routes","Route","path","element","Navigate","replace","index","createRoot","document","getElementById","render","Router"],"mappings":"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","file":"static/js/main.990f20b9.chunk.js","sourcesContent":["import { Person } from './types/Person';\n\n// eslint-disable-next-line max-len\nconst API_URL = 'https://mate-academy.github.io/react_people-table/api/people.json';\n\nfunction wait(delay: number) {\n  return new Promise(resolve => setTimeout(resolve, delay));\n}\n\nexport function getPeople(): Promise<Person[]> {\n  // keep this delay for testing purpose\n  return wait(500)\n    .then(() => fetch(API_URL))\n    .then(response => response.json());\n}\n","import { NavLink } from 'react-router-dom';\nimport classNames from 'classnames';\n\nexport const Navigation = () => (\n  <nav\n    data-cy=\"nav\"\n    className=\"navbar is-fixed-top has-shadow\"\n    role=\"navigation\"\n    aria-label=\"main navigation\"\n  >\n    <div className=\"container\">\n      <div className=\"navbar-brand\">\n        <NavLink\n          className={({ isActive }) => classNames('navbar-item', {\n            'has-background-grey-lighter': isActive,\n          })}\n          to=\"/\"\n        >\n          Home\n        </NavLink>\n\n        <NavLink\n          className={({ isActive }) => classNames('navbar-item', {\n            'has-background-grey-lighter': isActive,\n          })}\n          to=\"/people\"\n        >\n          People\n        </NavLink>\n      </div>\n    </div>\n  </nav>\n);\n","import './Loader.scss';\n\nexport const Loader = () => (\n  <div className=\"Loader\" data-cy=\"loader\">\n    <div className=\"Loader__content\" />\n  </div>\n);\n","import { Link } from 'react-router-dom';\nimport classNames from 'classnames';\nimport { Person } from '../types';\n\nexport const findParent = (people: Person[], parentName: string | null) => {\n  const parent = people.find(person => person.name === parentName);\n\n  if (parent) {\n    return (\n      <Link\n        className={classNames({\n          'has-text-danger': parent.sex === 'f',\n        })}\n        to={`/people/${parent.slug}`}\n      >\n        {parent.name}\n      </Link>\n    );\n  }\n\n  return parentName || '-';\n};\n","import classNames from 'classnames';\nimport { Link } from 'react-router-dom';\nimport { Person } from '../types';\nimport { findParent } from '../utils/findParents';\n\nexport type Props = {\n  people: Person[],\n  selectedPerson: string,\n};\n\nexport const PeopleList: React.FC<Props> = ({\n  people,\n  selectedPerson = '',\n}) => {\n  return (\n    <table\n      data-cy=\"peopleTable\"\n      className=\"table is-striped is-hoverable is-narrow is-fullwidth\"\n    >\n      <thead>\n        <tr>\n          <th>Name</th>\n          <th>Sex</th>\n          <th>Born</th>\n          <th>Died</th>\n          <th>Mother</th>\n          <th>Father</th>\n        </tr>\n      </thead>\n\n      <tbody>\n        {people.map(person => {\n          return (\n            <tr\n              key={person.slug}\n              data-cy=\"person\"\n              className={classNames({\n                'has-background-warning': selectedPerson === person.slug,\n              })}\n            >\n              <td>\n                <Link\n                  to={`/people/${person.slug}`}\n                  className={classNames({\n                    'has-text-danger': person.sex === 'f',\n                  })}\n                >\n                  {person.name}\n                </Link>\n              </td>\n\n              <td>{person.sex}</td>\n              <td>{person.born}</td>\n              <td>{person.died}</td>\n              <td>\n                {findParent(people, person.motherName)}\n              </td>\n\n              <td>\n                {findParent(people, person.fatherName)}\n              </td>\n            </tr>\n          );\n        })}\n      </tbody>\n    </table>\n  );\n};\n","import { useParams } from 'react-router-dom';\nimport { Loader } from '../components/Loader';\nimport { PeopleList } from '../components/PeopleList';\nimport { Person } from '../types';\n\ntype Props = {\n  people: Person[]\n  isLoading: boolean,\n  isError: boolean,\n};\n\nexport const PeoplePage: React.FC<Props> = ({ people, isLoading, isError }) => {\n  const { personSlug = '' } = useParams();\n\n  return (\n    <main className=\"section\">\n      <div className=\"container\">\n        <h1 className=\"title\">People Page</h1>\n\n        {isLoading && <Loader />}\n\n        {!isLoading && isError && (\n          <p data-cy=\"peopleLoadingError\" className=\"has-text-danger\">\n            Something went wrong\n          </p>\n        )}\n\n        {(!people.length && !isLoading) && (\n          <p data-cy=\"noPeopleMessage\">\n            There are no people on the server\n          </p>\n        )}\n\n        <div className=\"block\">\n          <div className=\"box table-container\">\n\n            {!isLoading && !isError && (\n              <PeopleList\n                people={people}\n                selectedPerson={personSlug}\n              />\n            )}\n          </div>\n        </div>\n\n      </div>\n    </main>\n  );\n};\n","export const HomePage = () => (\n  <h1 className=\"title\">Home Page</h1>\n);\n","export const PageNotFound = () => (\n  <h1 className=\"title\">Page not found</h1>\n);\n","import { useEffect, useState } from 'react';\n\nimport './App.scss';\nimport {\n  Navigate, Route, Routes,\n} from 'react-router-dom';\nimport { Person } from './types';\nimport { getPeople } from './api';\nimport { Navigation } from './components/Navigation';\nimport { PeoplePage } from './pages/PeoplePage';\nimport { HomePage } from './pages/HomePage';\nimport { PageNotFound } from './pages/PageNotFound';\n\nexport const App: React.FC = () => {\n  const [people, setPeople] = useState<Person[]>([]);\n  const [isError, setIsError] = useState(false);\n  const [isLoading, setIsLoading] = useState(false);\n\n  const getPeopleData = async () => {\n    setIsLoading(true);\n    setIsError(false);\n    try {\n      const newPersonList = await getPeople();\n\n      setPeople(newPersonList);\n    } catch {\n      setIsError(true);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    getPeopleData();\n  }, []);\n\n  return (\n    <div data-cy=\"app\">\n\n      <Navigation />\n\n      <Routes>\n        <Route\n          path=\"/\"\n          element={<HomePage />}\n        />\n        <Route path=\"home\" element={<Navigate to=\"/\" replace />} />\n\n        <Route path=\"people\">\n          <Route\n            index\n            element={(\n              <PeoplePage\n                people={people}\n                isLoading={isLoading}\n                isError={isError}\n              />\n            )}\n          />\n\n          <Route\n            path=\":personSlug\"\n            element={(\n              <PeoplePage\n                people={people}\n                isLoading={isLoading}\n                isError={isError}\n              />\n            )}\n          />\n        </Route>\n\n        <Route\n          path=\"*\"\n          element={<PageNotFound />}\n        />\n      </Routes>\n    </div>\n  );\n};\n","import { createRoot } from 'react-dom/client';\nimport { HashRouter as Router } from 'react-router-dom';\n\nimport 'bulma/css/bulma.css';\nimport '@fortawesome/fontawesome-free/css/all.css';\n\nimport { App } from './App';\n\ncreateRoot(document.getElementById('root') as HTMLDivElement)\n  .render(\n    <Router>\n      <App />\n    </Router>,\n  );\n"],"sourceRoot":""}