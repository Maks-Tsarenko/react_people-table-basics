{"version":3,"sources":["components/Loader/Loader.tsx","api.ts","components/PeopleList.tsx","components/Navigation.tsx","App.tsx","index.tsx"],"names":["Loader","_jsx","className","children","getPeople","delay","Promise","resolve","setTimeout","then","fetch","response","json","findParent","people","parentName","parent","find","person","name","Link","classNames","sex","to","concat","slug","PeopleList","_ref","_ref$selectedPerson","selectedPerson","_jsxs","map","born","died","motherName","fatherName","Navigation","role","NavLink","isActive","_ref2","PeoplePage","_useParams$personSlug","useParams","personSlug","_Fragment","App","_useState","useState","_useState2","_slicedToArray","setPeople","_useState3","_useState4","isError","setIsError","_useState5","_useState6","isLoading","setIsLoading","getPeopleData","_asyncToGenerator","_regeneratorRuntime","mark","_callee","newPersonList","wrap","_context","prev","next","sent","t0","finish","stop","apply","arguments","useEffect","length","Routes","Route","path","element","Navigate","replace","index","createRoot","document","getElementById","render","Router"],"mappings":"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","file":"static/js/main.6666426f.chunk.js","sourcesContent":["import './Loader.scss';\n\nexport const Loader = () => (\n  <div className=\"Loader\" data-cy=\"loader\">\n    <div className=\"Loader__content\" />\n  </div>\n);\n","import { Person } from './types/Person';\n\n// eslint-disable-next-line max-len\nconst API_URL = 'https://mate-academy.github.io/react_people-table/api/people.json';\n\nfunction wait(delay: number) {\n  return new Promise(resolve => setTimeout(resolve, delay));\n}\n\nexport function getPeople(): Promise<Person[]> {\n  // keep this delay for testing purpose\n  return wait(500)\n    .then(() => fetch(API_URL))\n    .then(response => response.json());\n}\n","import classNames from 'classnames';\nimport { Link } from 'react-router-dom';\nimport { Person } from '../types';\n\nconst findParent = (people: Person[], parentName: string | null) => {\n  const parent = people.find(person => person.name === parentName);\n\n  if (parent) {\n    return (\n      <Link\n        className={classNames({\n          'has-text-danger': parent.sex === 'f',\n        })}\n        to={`/people/${parent.slug}`}\n      >\n        {parent.name}\n      </Link>\n    );\n  }\n\n  return parentName || '-';\n};\n\nexport type Props = {\n  people: Person[],\n  selectedPerson: string,\n};\n\nexport const PeopleList: React.FC<Props> = ({\n  people,\n  selectedPerson = '',\n}) => {\n  return (\n    <table\n      data-cy=\"peopleTable\"\n      className=\"table is-striped is-hoverable is-narrow is-fullwidth\"\n    >\n      <thead>\n        <tr>\n          <th>Name</th>\n          <th>Sex</th>\n          <th>Born</th>\n          <th>Died</th>\n          <th>Mother</th>\n          <th>Father</th>\n        </tr>\n      </thead>\n\n      <tbody>\n        {people.map(person => {\n          return (\n            <tr\n              key={person.slug}\n              data-cy=\"person\"\n              className={classNames({\n                'has-background-warning': selectedPerson === person.slug,\n              })}\n            >\n              <td>\n                <Link\n                  to={`/people/${person.slug}`}\n                  className={classNames({\n                    'has-text-danger': person.sex === 'f',\n                  })}\n                >\n                  {person.name}\n                </Link>\n              </td>\n\n              <td>{person.sex}</td>\n              <td>{person.born}</td>\n              <td>{person.died}</td>\n              <td>\n                {findParent(people, person.motherName)}\n              </td>\n\n              <td>\n                {findParent(people, person.fatherName)}\n              </td>\n            </tr>\n          );\n        })}\n      </tbody>\n    </table>\n  );\n};\n","import { NavLink } from 'react-router-dom';\nimport classNames from 'classnames';\n\nexport const Navigation = () => (\n  <nav\n    data-cy=\"nav\"\n    className=\"navbar is-fixed-top has-shadow\"\n    role=\"navigation\"\n    aria-label=\"main navigation\"\n  >\n    <div className=\"container\">\n      <div className=\"navbar-brand\">\n        <NavLink\n          className={({ isActive }) => classNames('navbar-item', {\n            'has-background-grey-lighter': isActive,\n          })}\n          to=\"/\"\n        >\n          Home\n        </NavLink>\n\n        <NavLink\n          className={({ isActive }) => classNames('navbar-item', {\n            'has-background-grey-lighter': isActive,\n          })}\n          to=\"/people\"\n        >\n          People\n        </NavLink>\n      </div>\n    </div>\n  </nav>\n);\n","import { useEffect, useState } from 'react';\n\nimport './App.scss';\nimport {\n  Navigate, Route, Routes, useParams,\n} from 'react-router-dom';\nimport { Person } from './types';\nimport { Loader } from './components/Loader';\nimport { getPeople } from './api';\nimport { PeopleList } from './components/PeopleList';\nimport { Navigation } from './components/Navigation';\n\ntype Props = {\n  people: Person[]\n};\n\nexport const PeoplePage: React.FC<Props> = ({ people }) => {\n  const { personSlug = '' } = useParams();\n\n  return (\n    <>\n      <h1 className=\"title\">People Page</h1>\n\n      <PeopleList\n        people={people}\n        selectedPerson={personSlug}\n      />\n    </>\n  );\n};\n\nexport const App: React.FC = () => {\n  const [people, setPeople] = useState<Person[]>([]);\n  const [isError, setIsError] = useState(false);\n  const [isLoading, setIsLoading] = useState(false);\n\n  const getPeopleData = async () => {\n    setIsLoading(true);\n    setIsError(false);\n    try {\n      const newPersonList = await getPeople();\n\n      setPeople(newPersonList);\n    } catch {\n      setIsError(true);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    getPeopleData();\n  }, []);\n\n  return (\n    <div data-cy=\"app\">\n\n      <Navigation />\n      <main className=\"section\">\n        <div className=\"container\">\n\n          <div className=\"block\">\n            <div className=\"box table-container\">\n              {isLoading && <Loader />}\n              {!isLoading && isError && (\n                <p data-cy=\"peopleLoadingError\" className=\"has-text-danger\">\n                  Something went wrong\n                </p>\n              )}\n\n              {(!people.length && !isLoading) && (\n                <p data-cy=\"noPeopleMessage\">\n                  There are no people on the server\n                </p>\n              )}\n\n              {!isLoading && !isError && (\n                <Routes>\n                  <Route\n                    path=\"/\"\n                    element={<h1 className=\"title\">Home Page</h1>}\n                  />\n                  <Route path=\"home\" element={<Navigate to=\"/\" replace />} />\n\n                  <Route path=\"people\">\n                    <Route\n                      index\n                      element={<PeoplePage people={people} />}\n                    />\n\n                    <Route\n                      path=\":personSlug\"\n                      element={<PeoplePage people={people} />}\n                    />\n                  </Route>\n\n                  <Route\n                    path=\"*\"\n                    element={<h1 className=\"title\">Page not found</h1>}\n                  />\n                </Routes>\n              )}\n            </div>\n          </div>\n        </div>\n      </main>\n    </div>\n  );\n};\n","import { createRoot } from 'react-dom/client';\nimport { HashRouter as Router } from 'react-router-dom';\n\nimport 'bulma/css/bulma.css';\nimport '@fortawesome/fontawesome-free/css/all.css';\n\nimport { App } from './App';\n\ncreateRoot(document.getElementById('root') as HTMLDivElement)\n  .render(\n    <Router>\n      <App />\n    </Router>,\n  );\n"],"sourceRoot":""}